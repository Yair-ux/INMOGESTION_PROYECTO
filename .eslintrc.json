{
  "env": { "browser": true, "es2021": true },
  "extends": [
    "eslint:recommended",
    "plugin:react/recommended",
    "plugin:react-hooks/recommended",
    "prettier"
  ],
  "parserOptions": { "ecmaVersion": "latest", "sourceType": "module" },
  "plugins": ["react", "react-hooks"],
  "rules": { "react/react-in-jsx-scope": "off" },
  "settings": { "react": { "version": "detect" } }
}

const twilio = require('twilio');
// Configura Twilio
const client = twilio('TWILIO_SID', 'TWILIO_AUTH_TOKEN');

router.post('/forgot-password', async (req, res) => {
  const { emailOrPhone } = req.body;
  let user = await User.findOne({ email: emailOrPhone });
  let via = 'email';
  if (!user) {
    user = await User.findOne({ phone: emailOrPhone });
    via = 'sms';
  }
  if (!user) return res.status(404).send('Usuario no encontrado');

  const token = crypto.randomBytes(32).toString('hex');
  user.resetToken = token;
  user.resetTokenExpiry = Date.now() + 3600000;
  await user.save();

  if (via === 'email') {
    // ...envía correo como antes...
  } else {
    await client.messages.create({
      body: `Tu código de recuperación es: ${token}`,
      from: 'TU_NUMERO_TWILIO',
      to: user.phone
    });
  }

  res.send('Mensaje de recuperación enviado');
});

<button type="submit">Entrar</button>
<div style={{ marginTop: '1rem', textAlign: 'center' }}>
  <a href="/recuperar">¿Olvidaste tu contraseña?</a>
</div>
